<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>GhostTab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="pastel">
  <div class="container">
    <h1 class="mb-8">ğŸŒ€ GhostTab AI</h1>

    <p id="status" class="muted">ğŸ¯ Focus Mode: OFF</p>
    <div class="row">
      <button id="startFocus" class="primary" aria-label="Start Focus">ğŸš€ Start Focus</button>
      <button id="stopFocus" aria-label="Stop Focus">ğŸ›‘ Stop Focus</button>
    </div>

    <hr class="my-12">

    <label for="theme">ğŸ¨ Theme:</label>
    <select id="theme" aria-label="Theme">
      <option value="pastel">ğŸ©· Pastel</option>
      <option value="midnight">ğŸŒŒ Midnight</option>
      <option value="mint">ğŸŒ¿ Mint</option>
      <option value="cyber">ğŸ§¬ Cyber</option>
    </select>

    <hr class="my-12">

    <label class="row justify-between" for="enforceToggle">
      <span>ğŸ”’ Enforce Tab Limit</span>
      <input type="checkbox" id="enforceToggle" />
    </label>

    <div id="customTabLimitSection" class="mt-10">
      <label for="customTabLimit">ğŸ§® Custom Tab Limit:</label>
      <input type="number" id="customTabLimit" min="1" value="5" />
    </div>

    <div id="customGoalSection" class="mt-10">
      <label for="customGoal">ğŸ¯ Custom Daily Goal:</label>
      <input type="number" id="customGoal" min="1" value="6" />
    </div>

    <div id="customTimerSection" class="mt-10">
      <label for="customWork">ğŸ’¼ Work (min):</label>
      <input type="number" id="customWork" min="1" value="30" />
      <label for="customBreak" class="mt-6">â˜• Break (min):</label>
      <input type="number" id="customBreak" min="1" value="5" />
    </div>

    <div id="historySection" class="mt-10">
      <button id="toggleHistoryBtn" class="pill" aria-expanded="false">ğŸ“Š Show History</button>
      <div id="historyDisplay" class="mt-10 text-sm text-left hidden"></div>
    </div>

    <hr class="my-12">

    <div id="defaultTimerSection" class="hidden">
      <label for="workDuration">ğŸ’¼ Work:</label>
      <select id="workDuration">
        <option value="30">30 min</option>
        <option value="45">45 min</option>
        <option value="60">60 min</option>
      </select>

      <label for="breakDuration" class="mt-6">â˜• Break:</label>
      <select id="breakDuration">
        <option value="5">5 min</option>
        <option value="10">10 min</option>
        <option value="15">15 min</option>
      </select>
    </div>

    <hr class="my-12">

    <p id="timerMode" class="muted">ğŸ’¼ Work</p>
    <p id="pomoProgress" class="muted">ğŸ… Pomodoros Today: 0 / 6</p>
    <div id="ghostMeter" class="ghost-meter">ğŸ˜´</div>

    <h2 id="timerDisplay" class="timer-display">â³ 30:00</h2>
    <div class="row">
      <button id="startTimer" class="primary">â–¶ï¸ Start</button>
      <button id="pauseTimer">â¸ï¸ Pause</button>
      <button id="resetTimer">ğŸ” Reset</button>
    </div>

    <div class="row mt-8">
      <button id="resetGoal">ğŸ”„ Reset Goal</button>
      <button id="addSession">â• Add Session</button>
    </div>

    <hr class="my-12">

    <div class="card" id="apiStatus">
      <h3 class="mb-8">
        ğŸ¤– AI Tools
        <span id="apiStatusDot" title="API status"></span>
        <small id="apiStatusLabel" class="muted">checkingâ€¦</small>
      </h3>

      <div class="grid mb-8">
        <button id="summarizePage" class="pill" aria-label="Summarize current page">ğŸ§  Summarize Page</button>
        <button id="rewriteText"   class="pill" aria-label="Rewrite selected text">âœï¸ Rewrite Selection</button>
        <button id="sentimentText" class="pill" aria-label="Analyze sentiment of selection">ğŸ˜Š Sentiment</button>
        <button id="analyzeText"   class="pill" aria-label="Analyze selected text">ğŸ§© Analyze</button>
        <button id="askPageBtn"    class="pill" aria-label="Ask a question about the page">â“ Ask Page</button>
        <button id="checkHealth"   class="pill secondary" aria-label="Check API health">ğŸ©º Health</button>
      </div>

      <input id="askQuestion" placeholder="Your question about this pageâ€¦" aria-label="Question input" />

      <div class="row mt-6">
        <input id="translateTo" placeholder="ğŸŒ target lang (e.g., es, fr, ko)" aria-label="Target language" />
        <button id="translateBtn" class="pill secondary" aria-label="Translate current selection">Translate Selection</button>
      </div>

      <textarea id="aiResult" placeholder="AI output appears hereâ€¦" aria-live="polite"></textarea>
    </div>

    <hr class="my-12">

    <div class="row">
      <a href="options.html" target="_blank" class="pill link-no-underline" aria-label="Open Options">Options</a>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
