<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GhostTab</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* lightweight helpers if styles.css misses them */
    .row { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .out { white-space:pre-wrap; font-size:12px; background:#f6f7f9; padding:8px; border-radius:6px; margin-top:6px; }
    textarea, input, select { width:100%; box-sizing:border-box; }
    textarea { height:80px; }
    hr { margin: 12px 0; }
  </style>
</head>
<body class="pastel">
  <div class="container">
    <h1>ğŸŒ€ GhostTab AI</h1>

    <p id="status">ğŸ¯ Focus Mode: OFF</p>
    <button id="startFocus">ğŸš€ Start Focus</button>
    <button id="stopFocus">ğŸ›‘ Stop Focus</button>

    <hr>

    <label for="theme">ğŸ¨ Theme:</label>
    <select id="theme">
      <option value="pastel">ğŸ©· Pastel</option>
      <option value="midnight">ğŸŒŒ Midnight</option>
      <option value="mint">ğŸŒ¿ Mint</option>
      <option value="cyber">ğŸ§¬ Cyber</option>
    </select>

    <br /><br />

    <label for="enforceToggle">ğŸ”’ Enforce Tab Limit</label>
    <input type="checkbox" id="enforceToggle" />

    <!-- Pro-only: Custom Tab Limit (now always visible) -->
    <div id="customTabLimitSection" style="margin-top: 10px;">
      <label for="customTabLimit">ğŸ§® Custom Tab Limit:</label>
      <input type="number" id="customTabLimit" min="1" value="5" />
    </div>

    <!-- Pro-only: Custom Daily Goal (now always visible) -->
    <div id="customGoalSection" style="margin-top: 10px;">
      <label for="customGoal">ğŸ¯ Custom Daily Goal:</label>
      <input type="number" id="customGoal" min="1" value="6" />
    </div>

    <!-- Pro-only: Custom Timer Inputs (now always visible) -->
    <div id="customTimerSection" style="margin-top: 10px;">
      <label for="customWork">ğŸ’¼ Work (min):</label>
      <input type="number" id="customWork" min="1" value="30" />
      <br />
      <label for="customBreak">â˜• Break (min):</label>
      <input type="number" id="customBreak" min="1" value="5" />
    </div>

    <!-- Pro-only: Pomodoro History (now always visible) -->
    <div id="historySection" style="margin-top: 10px;">
      <button id="toggleHistoryBtn">ğŸ“Š Show History</button>
      <div id="historyDisplay" style="margin-top: 10px; font-size: 12px; text-align: left; display:none;"></div>
    </div>

    <hr>

    <!-- Old non-Pro timer controls (now hidden permanently) -->
    <div id="defaultTimerSection" style="display:none;">
      <label for="workDuration">ğŸ’¼ Work:</label>
      <select id="workDuration">
        <option value="30">30 min</option>
        <option value="45">45 min</option>
        <option value="60">60 min</option>
      </select>

      <label for="breakDuration">â˜• Break:</label>
      <select id="breakDuration">
        <option value="5">5 min</option>
        <option value="10">10 min</option>
        <option value="15">15 min</option>
      </select>
    </div>

    <hr>

    <p id="timerMode">ğŸ’¼ Work</p>
    <p id="pomoProgress">ğŸ… Pomodoros Today: 0 / 6</p>
    <div id="ghostMeter" style="font-size: 40px; margin: 10px 0;">ğŸ˜´</div>

    <h2 id="timerDisplay">â³ 30:00</h2>
    <button id="startTimer">â–¶ï¸ Start</button>
    <button id="pauseTimer">â¸ï¸ Pause</button>
    <button id="resetTimer">ğŸ” Reset</button>

    <br /><br />
    <button id="resetGoal">ğŸ”„ Reset Goal</button>
    <button id="addSession">â• Add Session</button>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ AI TOOLS (single, clean block) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="card">
  <h3>ğŸ¤– AI Tools
    <span id="apiStatusDot" title="API status"></span>
    <small id="apiStatusLabel" class="muted">checkingâ€¦</small>
  </h3>

  <div class="grid" style="margin-bottom:8px;">
    <button id="summarizePage" class="pill">ğŸ§  Summarize Page</button>
    <button id="rewriteText"   class="pill">âœï¸ Rewrite Selection</button>
    <button id="sentimentText" class="pill">ğŸ˜Š Sentiment</button>
    <button id="analyzeText"   class="pill">ğŸ§© Analyze</button>
    <button id="askPageBtn"    class="pill">â“ Ask Page</button>
    <button id="checkHealth"   class="pill secondary">ğŸ©º Health</button>
  </div>

  <!-- Ask Page input -->
  <input id="askQuestion" placeholder="Your question about this pageâ€¦" style="margin-bottom:8px;" />

  <!-- Translate controls -->
  <div class="row" style="margin:6px 0;">
    <input id="translateTo" placeholder="ğŸŒ target lang (e.g., es, fr, ko)" />
    <button id="translateBtn" class="pill secondary">Translate Selection</button>
  </div>

  <textarea id="aiResult" placeholder="AI output appears hereâ€¦"></textarea>
</div>
<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

    <script src="popup.js"></script>
  </div>
</body>
</html>
